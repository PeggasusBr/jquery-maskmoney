/*
 *  jquery-maskmoney - v3.1.1
 *  jQuery plugin to mask data entry in the input text in the form of money (currency)
 *  https://github.com/plentz/jquery-maskmoney
 *
 *  Made by Diego Plentz
 *  Under MIT License
 */

!function($){"use strict";$.browser||($.browser={},$.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),$.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()),$.browser.device=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var i={prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",precision:2,allowZero:!1,allowNegative:!1,doubleClickSelection:!0,allowEmpty:!1,bringCaretAtEndOnFocus:!0},t={destroy:function(){return $(this).unbind(".maskMoney"),$.browser.msie&&(this.onpaste=null),this},applyMask:function(e){return o(e,$(this).data("settings"))},mask:function(t){return this.each(function(){var e=$(this);return"number"==typeof t&&e.val(t),e.trigger("mask")})},unmasked:function(){return this.map(function(){var n,e=$(this).val()||"0",t=-1!==e.indexOf("-"),a=$(this).data("settings")||i,r=-1!==e.indexOf(a.decimal);return r&&$(e.split(/\D/).reverse()).each(function(e,t){if(t)return n=t,!1}),e=e.replace(/\D/g,""),r&&(e=e.replace(new RegExp(n+"$"),"."+n)),t&&(e="-"+e),parseFloat(e)})},unmaskedWithOptions:function(){return this.map(function(){var e=$(this).val()||"0",t=$(this).data("settings")||i,n=new RegExp(t.thousandsForUnmasked||t.thousands,"g");return e=e.replace(n,""),parseFloat(e)})},init:function(t){return t=$.extend($.extend({},i),t),this.each(function(){var v,n,f=$(this);function p(){var e,t,n,a,r,i=f.get(0),o=0,s=0;return"number"==typeof i.selectionStart&&"number"==typeof i.selectionEnd?(o=i.selectionStart,s=i.selectionEnd):(t=document.selection.createRange())&&t.parentElement()===i&&(a=i.value.length,e=i.value.replace(/\r\n/g,"\n"),(n=i.createTextRange()).moveToBookmark(t.getBookmark()),(r=i.createTextRange()).collapse(!1),-1<n.compareEndPoints("StartToEnd",r)?o=s=a:(o=-n.moveStart("character",-a),o+=e.slice(0,o).split("\n").length-1,-1<n.compareEndPoints("EndToEnd",r)?s=a:(s=-n.moveEnd("character",-a),s+=e.slice(0,s).split("\n").length-1))),{start:o,end:s}}function s(e){var t,a,n=f.val().length;f.val(o(f.val(),v)),t=f.val().length,v.reverse||(e-=n-t),a=e,v.formatOnBlur||f.each(function(e,t){if(t.setSelectionRange)t.focus(),t.setSelectionRange(a,a);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",a),n.moveStart("character",a),n.select()}})}function a(){var e=f.val();if(!v.allowEmpty||""!==e){var t=!isNaN(e)?e.indexOf("."):e.indexOf(v.decimal);if(0<v.precision)if(t<0)e+=v.decimal+new Array(v.precision+1).join(0);else{var n=e.slice(0,t),a=e.slice(t+1);e=n+v.decimal+a+new Array(v.precision+1-a.length).join(0)}f.val(o(e,v))}}function g(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function r(e){var t,n,a,r,i,o,s,l,c,u=(e=e||window.event).which||e.charCode||e.keyCode,d=v.decimal.charCodeAt(0);return void 0!==u&&(!(u<48||57<u)||u===d&&v.reverse?(t=!(f.val().length>=f.attr("maxlength")&&0<=f.attr("maxlength")),n=p(),a=n.start,r=n.end,i=!(n.start===n.end||!f.val().substring(a,r).match(/\d/)),o="0"===f.val().substring(0,1),!!(t||i||o)&&((u!==d||!function(){if(e=f.val().length,t=p(),0===t.start&&t.end===e)return!1;var e,t;return-1<f.val().indexOf(v.decimal)}())&&(!!v.formatOnBlur||(g(e),m(e),!1)))):(l=e,45===(s=u)?(f.val((c=f.val(),v.allowNegative?""!==c&&"-"===c.charAt(0)?c.replace("-",""):"-"+c:c)),!1):43===s?(f.val(f.val().replace("-","")),!1):(13===s||9===s||(!$.browser.mozilla||37!==s&&39!==s||0!==l.charCode)&&g(l),!0)))}function m(e){var t,n,a,r,i=(e=e||window.event).which||e.charCode||e.keyCode,o="";48<=i&&i<=57&&(o=String.fromCharCode(i)),n=(t=p()).start,a=t.end,r=f.val(),f.val(r.substring(0,n)+o+r.substring(a,r.length)),s(n+1)}function e(){setTimeout(function(){a()},0)}function i(){return(parseFloat("0")/Math.pow(10,v.precision)).toFixed(v.precision).replace(new RegExp("\\.","g"),v.decimal)}v=$.extend({},t),v=$.extend(v,f.data()),f.data("settings",v),$.browser.device&&f.attr("type","tel"),f.unbind(".maskMoney"),f.bind("keypress.maskMoney",r),f.bind("keydown.maskMoney",function(e){var t,n,a,r,i,o=(e=e||window.event).which||e.charCode||e.keyCode;return void 0!==o&&(n=(t=p()).start,a=t.end,8!==o&&46!==o&&63272!==o||(g(e),r=f.val(),n===a&&(8===o?""===v.suffix?n-=1:(i=r.split("").reverse().join("").search(/\d/),a=1+(n=r.length-i-1)):a+=1),f.val(r.substring(0,n)+r.substring(a,r.length)),s(n),!1))}),f.bind("blur.maskMoney",function(e){if($.browser.msie&&r(e),v.formatOnBlur&&f.val()!==n&&m(e),""===f.val()&&v.allowEmpty)f.val("");else if(""===f.val()||f.val()===u(i(),v))v.allowZero?v.affixesStay?f.val(u(i(),v)):f.val(i()):f.val("");else if(!v.affixesStay){var t=f.val().replace(v.prefix,"").replace(v.suffix,"");f.val(t)}f.val()!==n&&f.change()}),f.bind("focus.maskMoney",function(){n=f.val(),a();var e,t=f.get(0);v.selectAllOnFocus?t.select():t.createTextRange&&v.bringCaretAtEndOnFocus&&((e=t.createTextRange()).collapse(!1),e.select())}),f.bind("click.maskMoney",function(){var e,t=f.get(0);v.selectAllOnFocus||(t.setSelectionRange&&v.bringCaretAtEndOnFocus?(e=f.val().length,t.setSelectionRange(e,e)):f.val(f.val()))}),f.bind("dblclick.maskMoney",function(){var e,t,n=f.get(0);n.setSelectionRange&&v.bringCaretAtEndOnFocus?(t=f.val().length,e=v.doubleClickSelection?0:t,n.setSelectionRange(e,t)):f.val(f.val())}),f.bind("cut.maskMoney",e),f.bind("paste.maskMoney",e),f.bind("mask.maskMoney",a)})}};function u(e,t){var n="";return-1<e.indexOf("-")&&(e=e.replace("-",""),n="-"),-1<e.indexOf(t.prefix)&&(e=e.replace(t.prefix,"")),-1<e.indexOf(t.suffix)&&(e=e.replace(t.suffix,"")),n+t.prefix+e+t.suffix}function o(e,t){return t.allowEmpty&&""===e?"":t.reverse?function(e,t){var n,a=-1<e.indexOf("-")&&t.allowNegative?"-":"",r=e.replace(t.prefix,"").replace(t.suffix,""),i=r.split(t.decimal)[0],o="";""===i&&(i="0");if(n=d(i,a,t),0<t.precision){var s=r.split(t.decimal);1<s.length&&(o=s[1]),n+=t.decimal+o;var l=Number.parseFloat(i+"."+o).toFixed(t.precision),c=l.toString().split(t.decimal)[1];n=n.split(t.decimal)[0]+"."+c}return u(n,t)}(e,t):function(e,t){var n,a,r,i=-1<e.indexOf("-")&&t.allowNegative?"-":"",o=e.replace(/[^0-9]/g,""),s=o.slice(0,o.length-t.precision);n=d(s,i,t),0<t.precision&&(!isNaN(e)&&e.indexOf(t.decimal)&&(s=o.slice(0,o.length-t.precision),n=d(s,i,t)),a=o.slice(o.length-t.precision),r=new Array(t.precision+1-a.length).join(0),n+=t.decimal+r+a);return u(n,t)}(e,t)}function d(e,t,n){return""===(e=(e=e.replace(/^0*/g,"")).replace(/\B(?=(\d{3})+(?!\d))/g,n.thousands))&&(e="0"),t+e}$.fn.maskMoney=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.maskMoney"):t.init.apply(this,arguments)}}(window.jQuery||window.Zepto);